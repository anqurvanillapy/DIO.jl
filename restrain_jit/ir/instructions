import restrain_jit.ir.representations;

enum VarScope Unknown Local Global Free;

abc Instr;
data App(Instr) argn:int;
data Var(Instr) name:str scope:VarScope;
data Val(Instr) val:object;
data Ass(Instr) name:str scope:VarScope;
data Ref(Instr) name:str;
data Deref(Instr) name:str;
data Setref(Instr) name:str;
data JmpIf(Instr) label:str cond:t.Union[Reg,Const];
data JmpIfPush(Instr) label:str cond:t.Union[Reg,Const] leave:t.Union[Reg, Const];
data Jmp(Instr) label:str;
data Label(Instr) label:str;
data Dup(Instr);
data Peek(Instr) offset:int;
data Return(Instr) ;
data Yield(Instr) ;
data YieldFrom(Instr) ;
data YieldFrom(Instr) ;